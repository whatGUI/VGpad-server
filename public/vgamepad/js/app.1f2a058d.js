(function(){"use strict";var t={3865:function(t,e,o){var n=o(9242),s=o(3396);function r(t,e,o,n,r,a){return(0,s.wg)(),(0,s.j4)((0,s.LL)(r.connected?"UniversalLayout":"SocketConnect"),{onSocketConnect:e[0]||(e[0]=t=>r.connected=t)})}const a={class:"controller"},c={class:"top-buttons"},i={class:"start-back-wrapper"},u=(0,s.Uk)("start"),l=(0,s.Uk)("back");function d(t,e,o,n,r,d){const p=(0,s.up)("ShoulderButtons"),f=(0,s.up)("BasicButton"),h=(0,s.up)("DPad"),v=(0,s.up)("VJoystick"),m=(0,s.up)("ABXY");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("div",c,[(0,s.Wm)(p,{class:"shoulder-buttons"}),(0,s._)("div",i,[(0,s.Wm)(f,{class:"button-start",type:"START"},{default:(0,s.w5)((()=>[u])),_:1}),(0,s.Wm)(f,{class:"button-back",type:"BACK"},{default:(0,s.w5)((()=>[l])),_:1})])]),(0,s.Wm)(h,{class:"d-pad"}),(0,s.Wm)(v,{class:"right-axis",type:"RIGHT_AXIS"}),(0,s.Wm)(v,{class:"left-axis",type:"LEFT_AXIS"}),(0,s.Wm)(m,{class:"abxy"})])}const p={class:"shoulder-buttons"},f={class:"left"},h=(0,s.Uk)("LB"),v=(0,s.Uk)("LT"),m={class:"right"},b=(0,s.Uk)("RT"),w=(0,s.Uk)("RB");function y(t,e,o,n,r,a){const c=(0,s.up)("BasicButton");return(0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("div",f,[(0,s.Wm)(c,{class:"button",color:"#ed6d00",shape:"square",type:"LEFT_SHOULDER"},{default:(0,s.w5)((()=>[h])),_:1}),(0,s.Wm)(c,{class:"button",color:"#009ea9",shape:"square",type:"LEFT_TRIGGER"},{default:(0,s.w5)((()=>[v])),_:1})]),(0,s._)("div",m,[(0,s.Wm)(c,{class:"button",color:"#009ea9",shape:"square",type:"RIGHT_TRIGGER"},{default:(0,s.w5)((()=>[b])),_:1}),(0,s.Wm)(c,{class:"button",color:"#ed6d00",shape:"square",type:"RIGHT_SHOULDER"},{default:(0,s.w5)((()=>[w])),_:1})])])}var _=o(7139);function g(t,e,o,n,r,a){return(0,s.wg)(),(0,s.iD)("div",{class:"basic-button",onTouchstart:e[0]||(e[0]=(...t)=>a.pressStart&&a.pressStart(...t)),onTouchend:e[1]||(e[1]=(...t)=>a.pressEnd&&a.pressEnd(...t))},[(0,s.WI)(t.$slots,"default",{},void 0,!0),(0,s._)("div",{class:(0,_.C_)(["back",{pressed:r.buttonPressed,square:"square"===this.shape}]),style:(0,_.j5)({"background-color":o.color})},null,6)],32)}var k=o(4700);let B;var S={connect(){return new Promise(((t,e)=>{B=(0,k.io)({transports:["websocket"],reconnection:!1,timeout:3e3}),B.on("connect",(()=>{t()})),B.on("connect_error",(t=>{e(t)}))}))},isControllerReady(){return new Promise(((t,e)=>{!1===B.connected&&e("websocket connection failed"),B.on("controller ready",(o=>{!0===o?t(!0):e("controller not ready")}))}))},sendMessage(t){B.send("From "+B.id+":"+t),console.log("send finish")},buttonPress(t,e){B.emit("button press",t,e)},joystickMove(t,e,o){B.emit("joystick move",t,e,o)}},C={name:"BasicButton",props:{shape:{type:String,default:"circle"},color:{type:String,default:"#42b984"},type:{type:String,required:!0}},data(){return{buttonPressed:!1}},computed:{},components:{},watch:{},mounted(){},methods:{pressStart(){this.buttonPressed=!0,S.buttonPress(this.type,this.buttonPressed)},pressEnd(){this.buttonPressed=!1,S.buttonPress(this.type,this.buttonPressed)}}},P=o(89);const D=(0,P.Z)(C,[["render",g],["__scopeId","data-v-aff8121c"]]);var W=D,x={name:"ShoulderButtons",props:{},data(){return{}},components:{BasicButton:W},watch:{},mounted(){},methods:{}};const T=(0,P.Z)(x,[["render",y],["__scopeId","data-v-e14322a6"]]);var j=T;const U=t=>((0,s.dD)("data-v-01aaaa4c"),t=t(),(0,s.Cn)(),t),I={class:"d-pad"},O=U((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-caret-up-fill",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"})],-1))),z=U((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-caret-right-fill",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"})],-1))),R=U((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})],-1))),A=U((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-caret-left-fill",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"})],-1)));function L(t,e,o,n,r,a){const c=(0,s.up)("BasicButton");return(0,s.wg)(),(0,s.iD)("div",I,[(0,s.Wm)(c,{class:"button-up button",type:"DPAD_UP"},{default:(0,s.w5)((()=>[O])),_:1}),(0,s.Wm)(c,{class:"button-right button",type:"DPAD_RIGHT"},{default:(0,s.w5)((()=>[z])),_:1}),(0,s.Wm)(c,{class:"button-down button",type:"DPAD_DOWN"},{default:(0,s.w5)((()=>[R])),_:1}),(0,s.Wm)(c,{class:"button-left button",type:"DPAD_LEFT"},{default:(0,s.w5)((()=>[A])),_:1})])}var E={name:"DPad",props:{},data(){return{}},components:{BasicButton:W},watch:{},mounted(){},methods:{}};const M=(0,P.Z)(E,[["render",L],["__scopeId","data-v-01aaaa4c"]]);var q=M;const G={class:"v-joystick"},Z={id:"zone_joystick",ref:"zone_joystick"};function F(t,e,o,n,r,a){return(0,s.wg)(),(0,s.iD)("div",G,[(0,s._)("div",Z,null,512)])}var H=o(188),X=o.n(H),J={name:"VJoystick",props:{type:{type:String,required:!0}},data(){return{manager:{}}},methods:{createJoystick(){this.manager=X().create({zone:this.$refs.zone_joystick,mode:"static",position:{left:"50%",top:"50%"},color:"red",dynamicPage:!0}),this.manager.on("move",((t,e)=>{let{x:o,y:n}=e.vector;S.joystickMove(this.type,o,n)})).on("end",(()=>{S.joystickMove(this.type,0,0)}))}},mounted(){this.createJoystick()},beforeUnmounted(){this.manager.destroy()}};const V=(0,P.Z)(J,[["render",F],["__scopeId","data-v-2d60746c"]]);var Y=V;const $={class:"abxy"},K=(0,s.Uk)("A"),N=(0,s.Uk)("B"),Q=(0,s.Uk)("X"),tt=(0,s.Uk)("Y");function et(t,e,o,n,r,a){const c=(0,s.up)("BasicButton");return(0,s.wg)(),(0,s.iD)("div",$,[(0,s.Wm)(c,{class:"button-a",color:"#11d100",type:"A"},{default:(0,s.w5)((()=>[K])),_:1}),(0,s.Wm)(c,{class:"button-b",color:"#eb4034",type:"B"},{default:(0,s.w5)((()=>[N])),_:1}),(0,s.Wm)(c,{class:"button-x",color:"#00aeff",type:"X"},{default:(0,s.w5)((()=>[Q])),_:1}),(0,s.Wm)(c,{class:"button-y",color:"#fae502",type:"Y"},{default:(0,s.w5)((()=>[tt])),_:1})])}var ot={components:{BasicButton:W}};const nt=(0,P.Z)(ot,[["render",et],["__scopeId","data-v-b02944ce"]]);var st=nt,rt={name:"UniversalLayout",props:{},data(){return{}},components:{ShoulderButtons:j,BasicButton:W,DPad:q,VJoystick:Y,ABXY:st},watch:{},mounted(){},methods:{}};const at=(0,P.Z)(rt,[["render",d],["__scopeId","data-v-58719601"]]);var ct=at;const it=t=>((0,s.dD)("data-v-5730206d"),t=t(),(0,s.Cn)(),t),ut={class:"socket-connect"},lt={class:"wrapper"},dt=it((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"150",height:"150",fill:"#3eaf7c",class:"bi bi-controller",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"M11.5 6.027a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-1.5 1.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zm2.5-.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-1.5 1.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zm-6.5-3h1v1h1v1h-1v1h-1v-1h-1v-1h1v-1z"}),(0,s._)("path",{d:"M3.051 3.26a.5.5 0 0 1 .354-.613l1.932-.518a.5.5 0 0 1 .62.39c.655-.079 1.35-.117 2.043-.117.72 0 1.443.041 2.12.126a.5.5 0 0 1 .622-.399l1.932.518a.5.5 0 0 1 .306.729c.14.09.266.19.373.297.408.408.78 1.05 1.095 1.772.32.733.599 1.591.805 2.466.206.875.34 1.78.364 2.606.024.816-.059 1.602-.328 2.21a1.42 1.42 0 0 1-1.445.83c-.636-.067-1.115-.394-1.513-.773-.245-.232-.496-.526-.739-.808-.126-.148-.25-.292-.368-.423-.728-.804-1.597-1.527-3.224-1.527-1.627 0-2.496.723-3.224 1.527-.119.131-.242.275-.368.423-.243.282-.494.575-.739.808-.398.38-.877.706-1.513.773a1.42 1.42 0 0 1-1.445-.83c-.27-.608-.352-1.395-.329-2.21.024-.826.16-1.73.365-2.606.206-.875.486-1.733.805-2.466.315-.722.687-1.364 1.094-1.772a2.34 2.34 0 0 1 .433-.335.504.504 0 0 1-.028-.079zm2.036.412c-.877.185-1.469.443-1.733.708-.276.276-.587.783-.885 1.465a13.748 13.748 0 0 0-.748 2.295 12.351 12.351 0 0 0-.339 2.406c-.022.755.062 1.368.243 1.776a.42.42 0 0 0 .426.24c.327-.034.61-.199.929-.502.212-.202.4-.423.615-.674.133-.156.276-.323.44-.504C4.861 9.969 5.978 9.027 8 9.027s3.139.942 3.965 1.855c.164.181.307.348.44.504.214.251.403.472.615.674.318.303.601.468.929.503a.42.42 0 0 0 .426-.241c.18-.408.265-1.02.243-1.776a12.354 12.354 0 0 0-.339-2.406 13.753 13.753 0 0 0-.748-2.295c-.298-.682-.61-1.19-.885-1.465-.264-.265-.856-.523-1.733-.708-.85-.179-1.877-.27-2.913-.27-1.036 0-2.063.091-2.913.27z"})],-1)));function pt(t,e,o,n,r,a){return(0,s.wg)(),(0,s.iD)("div",ut,[(0,s._)("div",lt,[dt,(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>a.createConnection&&a.createConnection(...t))},"Link Start!")])])}var ft={name:"SocketConnect",props:{},data(){return{ipAddress:"",port:""}},emits:["socketConnect"],components:{},watch:{},mounted(){},methods:{async createConnection(){try{await S.connect(),S.sendMessage("hello server");let t=await S.isControllerReady();t&&(this.$emit("socketConnect",!0),document.body.requestFullscreen(),screen.orientation.lock("landscape"))}catch(t){console.log(t)}}}};const ht=(0,P.Z)(ft,[["render",pt],["__scopeId","data-v-5730206d"]]);var vt=ht,mt={name:"App",components:{UniversalLayout:ct,SocketConnect:vt},data(){return{connected:!1}}};const bt=(0,P.Z)(mt,[["render",r]]);var wt=bt;(0,n.ri)(wt).mount("#app")}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,o),r.exports}o.m=t,function(){var t=[];o.O=function(e,n,s,r){if(!n){var a=1/0;for(l=0;l<t.length;l++){n=t[l][0],s=t[l][1],r=t[l][2];for(var c=!0,i=0;i<n.length;i++)(!1&r||a>=r)&&Object.keys(o.O).every((function(t){return o.O[t](n[i])}))?n.splice(i--,1):(c=!1,r<a&&(a=r));if(c){t.splice(l--,1);var u=s();void 0!==u&&(e=u)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[n,s,r]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,r,a=n[0],c=n[1],i=n[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(s in c)o.o(c,s)&&(o.m[s]=c[s]);if(i)var l=i(o)}for(e&&e(n);u<a.length;u++)r=a[u],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(l)},n=self["webpackChunkvgpad"]=self["webpackChunkvgpad"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(3865)}));n=o.O(n)})();
//# sourceMappingURL=app.1f2a058d.js.map